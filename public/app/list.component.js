"use strict";var __decorate=this&&this.__decorate||function(e,t,r,i){var o,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,i);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(a=(s<3?o(a):s>3?o(t,r,a):o(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},router_1=require("@angular/router"),core_1=require("@angular/core"),list_service_1=require("./list.service"),ListComponent=function(){function e(e,t){this.listService=e,this.router=t,this.showlist=[]}return Object.defineProperty(e.prototype,"fl",{get:function(){return this.showlist},set:function(e){this.showlist=e},enumerable:!0,configurable:!0}),e.prototype.setPoster=function(e){var t={"background-image":"N/A"==e?'url("images/pstr_na.jpg")':"url("+e+'), url("images/pstr_na.jpg")'};return t},e.prototype.detailFilm=function(e){var t=this.listService.dataCheck(e);t||this.listService.getFilms(e)},e.prototype.gotoFilm=function(e){this.router.navigate(["/detail",e])},e.prototype.onScrollDown=function(){var e=this;console.log("scrolled!!");var t=Math.ceil(this.fr/10);if(t>1)if(void 0!=this.req.page?this.req.page++:this.req.page=2,this.req.page<=t){var r=this.listService.dataCheck(this.req);r?this.listService.getData(r).then(function(t){for(var r=0,i=t.Search;r<i.length;r++){var o=i[r];e.showlist.push(o)}}):this.listService.getFilms(this.req).then(function(t){for(var r=0,i=t.Search;r<i.length;r++){var o=i[r];e.showlist.push(o)}},function(t){return e.errorMessage=t})}else this.errorMessage="end of list"},__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"req",void 0),__decorate([core_1.Input(),__metadata("design:type",Number)],e.prototype,"fr",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"fl",null),e=__decorate([core_1.Component({selector:"find-films",templateUrl:"templates/filmlist.html",styleUrls:["css/search.css"]}),__metadata("design:paramtypes",[list_service_1.ListService,router_1.Router])],e)}();exports.ListComponent=ListComponent;